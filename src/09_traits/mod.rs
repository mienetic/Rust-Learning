//! Traits Module - à¹‚à¸£à¸‡à¸¥à¸°à¸„à¸£à¹à¸«à¹ˆà¸‡à¸à¸¤à¸•à¸´à¸à¸£à¸£à¸¡! ğŸ­âœ¨
//!
//! à¸—à¸µà¹ˆà¸™à¸µà¹ˆà¸„à¸·à¸­à¹‚à¸£à¸‡à¸¥à¸°à¸„à¸£à¸—à¸µà¹ˆà¸—à¸¸à¸à¸•à¸±à¸§à¸¥à¸°à¸„à¸£à¸ªà¸²à¸¡à¸²à¸£à¸–à¹à¸ªà¸”à¸‡à¹„à¸”à¹‰à¸«à¸¥à¸²à¸¢à¸šà¸—!
//! Traits à¸„à¸·à¸­à¸ªà¸±à¸à¸à¸²à¸à¸¤à¸•à¸´à¸à¸£à¸£à¸¡ - à¹€à¸«à¸¡à¸·à¸­à¸™à¸ªà¸„à¸£à¸´à¸›à¸•à¹Œà¸—à¸µà¹ˆà¸—à¸¸à¸à¸„à¸™à¸•à¹‰à¸­à¸‡à¸—à¸³à¸•à¸²à¸¡! ğŸ¬ğŸª„
//! 
//! à¸ˆà¸²à¸ "à¸‰à¸±à¸™à¹€à¸›à¹‡à¸™à¹ƒà¸„à¸£" à¹€à¸›à¹‡à¸™ "à¸‰à¸±à¸™à¸—à¸³à¸­à¸°à¹„à¸£à¹„à¸”à¹‰à¸šà¹‰à¸²à¸‡" - à¸™à¸µà¹ˆà¸„à¸·à¸­à¸à¸¥à¸±à¸‡à¸‚à¸­à¸‡ Traits! ğŸŒŸ
//! à¹€à¸«à¸¡à¸·à¸­à¸™à¹‚à¸£à¸‡à¹€à¸£à¸µà¸¢à¸™à¸ªà¸­à¸™à¸¡à¸²à¸£à¸¢à¸²à¸—à¸—à¸µà¹ˆà¸ªà¸­à¸™à¹ƒà¸«à¹‰à¸—à¸¸à¸à¸„à¸™à¸¡à¸µà¸à¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¸”à¸µ! ğŸ“ğŸ“š
//! à¸«à¸£à¸·à¸­à¹€à¸«à¸¡à¸·à¸­à¸™à¹ƒà¸šà¸›à¸£à¸°à¸à¸²à¸¨à¸™à¸µà¸¢à¸šà¸±à¸•à¸£à¸—à¸µà¹ˆà¸£à¸±à¸šà¸£à¸­à¸‡à¸§à¹ˆà¸²à¸„à¸¸à¸“à¸—à¸³à¸­à¸°à¹„à¸£à¹„à¸”à¹‰à¸šà¹‰à¸²à¸‡! ğŸ“œğŸ†

mod basic_traits;
mod practice_traits;
mod standard_traits;
mod trait_bounds;
mod trait_objects;

pub use basic_traits::learn_basic_traits;
pub use practice_traits::practice_traits;
pub use standard_traits::learn_standard_traits;
pub use trait_bounds::learn_trait_bounds;
pub use trait_objects::learn_trait_objects;

/// à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸±à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ traits (à¹€à¸£à¸µà¸¢à¸à¸ˆà¸²à¸ main.rs) - à¸—à¸±à¸§à¸£à¹Œà¹‚à¸£à¸‡à¸¥à¸°à¸„à¸£ Traits! ğŸ­ğŸ«
/// à¹€à¸«à¸¡à¸·à¸­à¸™à¸à¸²à¸£à¸”à¸¹à¹‚à¸Šà¸§à¹Œà¸—à¸µà¹ˆà¸¡à¸µà¸«à¸¥à¸²à¸¢à¸£à¸­à¸š à¹à¸•à¹ˆà¸¥à¸°à¸£à¸­à¸šà¸¡à¸µà¹€à¸ªà¸™à¹ˆà¸«à¹Œà¸•à¹ˆà¸²à¸‡à¸à¸±à¸™! ğŸªğŸŒŸ
pub fn run_traits_examples() {
    println!("   ğŸ¯ Basic Traits (Traits à¸à¸·à¹‰à¸™à¸à¸²à¸™: à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸à¸¤à¸•à¸´à¸à¸£à¸£à¸¡à¸£à¹ˆà¸§à¸¡!)");
    println!("   ğŸ­ à¹€à¸«à¸¡à¸·à¸­à¸™à¹€à¸£à¸µà¸¢à¸™à¸¡à¸²à¸£à¸¢à¸²à¸—à¸à¸·à¹‰à¸™à¸à¸²à¸™ à¸«à¸£à¸·à¸­à¹€à¸£à¸µà¸¢à¸™à¸à¸´à¸£à¸´à¸¢à¸²à¸—à¸µà¹ˆà¸”à¸µ! ğŸ™âœ¨");
    learn_basic_traits();

    println!("\n   ğŸ”— Trait Bounds (à¸‚à¸­à¸šà¹€à¸‚à¸• Traits: à¸à¸³à¸«à¸™à¸”à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚!)");
    println!("   ğŸš§ à¹€à¸«à¸¡à¸·à¸­à¸™à¸›à¹‰à¸²à¸¢à¸šà¸­à¸à¸—à¸²à¸‡ à¸«à¸£à¸·à¸­à¸à¸à¸£à¸°à¹€à¸šà¸µà¸¢à¸šà¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸›à¸à¸´à¸šà¸±à¸•à¸´à¸•à¸²à¸¡! ğŸ“‹âš–ï¸");
    learn_trait_bounds();

    println!("\n   ğŸ“š Standard Traits (Traits à¸¡à¸²à¸•à¸£à¸à¸²à¸™: à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰!)");
    println!("   ğŸ› ï¸ à¹€à¸«à¸¡à¸·à¸­à¸™à¸Šà¸¸à¸”à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸—à¸µà¹ˆà¸¡à¸²à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸šà¸šà¹‰à¸²à¸™ à¸«à¸£à¸·à¸­à¹à¸­à¸›à¸—à¸µà¹ˆà¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸¡à¸²à¹ƒà¸«à¹‰! ğŸ“±ğŸ ");
    learn_standard_traits();

    println!("\n   ğŸ­ Trait Objects (à¸§à¸±à¸•à¸–à¸¸ Traits: à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¹à¸šà¸šà¹„à¸”à¸™à¸²à¸¡à¸´à¸!)");
    println!("   ğŸª à¹€à¸«à¸¡à¸·à¸­à¸™à¸™à¸±à¸à¹à¸ªà¸”à¸‡à¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸šà¸—à¹„à¸”à¹‰à¸•à¸¥à¸­à¸”à¹€à¸§à¸¥à¸² à¸«à¸£à¸·à¸­à¸«à¸¸à¹ˆà¸™à¸¢à¸™à¸•à¹Œà¸—à¸µà¹ˆà¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸«à¸¥à¸²à¸¢à¸­à¸¢à¹ˆà¸²à¸‡! ğŸ¤–ğŸ¨");
    learn_trait_objects();

    println!("\n   ğŸ’ª à¹à¸šà¸šà¸à¸¶à¸à¸«à¸±à¸” Traits (à¸¢à¸´à¸¡à¸à¸¶à¸ Traits!)");
    println!("   ğŸ‹ï¸â€â™‚ï¸ à¹€à¸«à¸¡à¸·à¸­à¸™à¹€à¸‚à¹‰à¸²à¸Ÿà¸´à¸•à¹€à¸™à¸ªà¹€à¸à¸·à¹ˆà¸­à¸à¸¶à¸à¸à¸¥à¹‰à¸²à¸¡à¹€à¸™à¸·à¹‰à¸­ à¸«à¸£à¸·à¸­à¹€à¸£à¸µà¸¢à¸™à¸à¸´à¹€à¸¨à¸©à¹€à¸à¸·à¹ˆà¸­à¹€à¸à¹ˆà¸‡à¸‚à¸¶à¹‰à¸™! ğŸ¯ğŸ“ˆ");
    practice_traits();
}

#[cfg(test)]
mod tests {
    // à¸¥à¸š unused import super::* à¹€à¸™à¸·à¹ˆà¸­à¸‡à¸ˆà¸²à¸à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ (à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¹‚à¸„à¹‰à¸”! ğŸ§¹)

    #[test]
    fn test_trait_implementation() {
        trait Testable {  // Trait à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸š! ğŸ§ª
            fn test_value(&self) -> i32;
        }

        struct TestStruct {  // à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸—à¸”à¸ªà¸­à¸š! ğŸ—ï¸
            value: i32,
        }

        impl Testable for TestStruct {  // à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Trait! âœ¨
            fn test_value(&self) -> i32 {
                self.value  // à¸„à¸·à¸™à¸„à¹ˆà¸²! ğŸ
            }
        }

        let test_obj = TestStruct { value: 42 };
        assert_eq!(test_obj.test_value(), 42);
    }

    #[test]
    fn test_trait_bounds() {
        #[allow(clippy::needless_pass_by_value)]
        fn compare_and_display<T: PartialOrd + std::fmt::Display>(a: T, b: T) -> String {  // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š! âš–ï¸
            if a > b {  // à¸¡à¸²à¸à¸à¸§à¹ˆà¸²! ğŸ“ˆ
                format!("{a} > {b}")
            } else if a < b {  // à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²! ğŸ“‰
                format!("{a} < {b}")
            } else {  // à¹€à¸—à¹ˆà¸²à¸à¸±à¸™! âš–ï¸
                format!("{a} = {b}")
            }
        }

        assert_eq!(compare_and_display(5, 3), "5 > 3");
        assert_eq!(compare_and_display(2, 7), "2 < 7");
        assert_eq!(compare_and_display(4, 4), "4 = 4");
    }

    #[test]
    fn test_trait_objects() {
        trait TestShape {
            fn area(&self) -> f64;
        }

        struct TestCircle {
            radius: f64,
        }
        struct TestSquare {
            side: f64,
        }

        impl TestShape for TestCircle {
            fn area(&self) -> f64 {
                std::f64::consts::PI * self.radius * self.radius
            }
        }

        impl TestShape for TestSquare {
            fn area(&self) -> f64 {
                self.side * self.side
            }
        }

        let shapes: Vec<Box<dyn TestShape>> = vec![
            Box::new(TestCircle { radius: 1.0 }),
            Box::new(TestSquare { side: 2.0 }),
        ];

        let total_area: f64 = shapes.iter().map(|s| s.area()).sum();
        assert!((total_area - 7.14159).abs() < 0.001);
    }
}
