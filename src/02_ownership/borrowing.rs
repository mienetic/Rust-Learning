/// р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕нр╕Щр╣Ар╕гр╕╖р╣Ир╕нр╕З Borrowing
/// р╕бр╕▓р╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Йр╕Бр╕▓р╕гр╕вр╕╖р╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕Бр╕▒р╕Щр╣Ар╕Цр╕нр╕░! (р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▓р╕гр╕вр╕╖р╕бр╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕нр╕Ир╕▓р╕Бр╕лр╣Йр╕нр╕Зр╕кр╕бр╕╕р╕Ф! ЁЯУЪ)
pub fn learn_borrowing() {
    println!("\nЁЯдЭ === Borrowing: р╕ир╕┤р╕ер╕Ыр╕░р╕Бр╕▓р╕гр╕вр╕╖р╕бр╣Бр╕Ър╕Ър╕кр╕╕р╕ар╕▓р╕Ю! === ЁЯдЭ");

    // Immutable references (р╕Бр╕▓р╕гр╕вр╕╖р╕бр╣Бр╕Ър╕Ър╕нр╣Ир╕▓р╕Щр╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕Фр╕╡р╕вр╕з! ЁЯСА)
    println!("ЁЯУЦ === Immutable References: р╕вр╕╖р╕бр╕бр╕▓р╕Фр╕╣р╣Бр╕Хр╣Ир╕лр╣Йр╕▓р╕бр╣Бр╕Бр╣Й! === ЁЯУЦ");
    let s1 = String::from("hello");
    let len = calculate_length(&s1); // р╕вр╕╖р╕бр╣Вр╕Фр╕вр╣Др╕бр╣Ир╣Ар╕нр╕▓ ownership (р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▓р╕гр╕вр╕╖р╕бр╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕н! ЁЯУЪ)
    println!("тЬЕ р╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╕Вр╕нр╕З '{s1}' р╕Др╕╖р╕н {len} (р╕Фр╕╣р╣Бр╕ер╣Йр╕зр╕Др╕╖р╕Щр╣Гр╕лр╣Й! ЁЯУП)"); // s1 р╕вр╕▒р╕Зр╣Гр╕Кр╣Йр╣Др╕Фр╣Й

    const fn calculate_length(s: &str) -> usize {
        s.len() // р╕зр╕▒р╕Фр╕Др╕зр╕▓р╕бр╕вр╕▓р╕зр╣Бр╕ер╣Йр╕зр╕Др╕╖р╕Щр╣Гр╕лр╣Й! ЁЯУР
    } // s р╕нр╕нр╕Бр╕Ир╕▓р╕Б scope р╣Бр╕Хр╣Ир╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕З р╕Ир╕╢р╕Зр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Чр╕│р╕ер╕▓р╕в (р╕вр╕╖р╕бр╕бр╕▓р╣Гр╕Кр╣Йр╣Бр╕ер╣Йр╕зр╕Др╕╖р╕Щ! ЁЯФД)

    // Mutable references (р╕Бр╕▓р╕гр╕вр╕╖р╕бр╣Бр╕Ър╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й! тЬПя╕П)
    println!("\nтЬПя╕П === Mutable References: р╕вр╕╖р╕бр╕бр╕▓р╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й! === тЬПя╕П");
    let mut s = String::from("hello");
    change(&mut s); // р╕вр╕╖р╕бр╣Др╕Ыр╣Бр╕Бр╣Йр╣Др╕В (р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕вр╕╖р╕бр╕кр╕бр╕╕р╕Фр╣Др╕Ыр╣Ар╕Вр╕╡р╕вр╕Щр╣Ар╕Юр╕┤р╣Ир╕б! ЁЯУЭ)
    println!("тЬЕ р╕лр╕ер╕▒р╕Зр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ: {s} (р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕Зр╣Бр╕ер╣Йр╕з! тЬи)");

    fn change(some_string: &mut String) {
        some_string.push_str(", world"); // р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕│р╣Гр╕лр╕бр╣И! ЁЯМН
    }

    // р╕Бр╕Ор╕Вр╕нр╕З references (р╕Бр╕Ор╕Бр╕▓р╕гр╕вр╕╖р╕бр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕бр╕Зр╕зр╕Ф! тЪЦя╕П)
    println!("\nЁЯУЛ === р╕Бр╕Ор╕Вр╕нр╕З References: р╕Бр╕Ор╕Бр╕▓р╕гр╕вр╕╖р╕бр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕вр╕Бр╣Ар╕зр╣Йр╕Щ! === ЁЯУЛ");
    println!("1. р╣Гр╕Щр╣Ар╕зр╕ер╕▓р╕лр╕Щр╕╢р╣Ир╕З р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕╡ immutable reference р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з р╕лр╕гр╕╖р╕н mutable reference р╣Ар╕Юр╕╡р╕вр╕Зр╕Хр╕▒р╕зр╣Ар╕Фр╕╡р╕вр╕з (р╣Ар╕лр╕бр╕╖р╕нр╕Щр╕лр╣Йр╕нр╕Зр╕кр╕бр╕╕р╕Ф: р╕нр╣Ир╕▓р╕Щр╣Др╕Фр╣Йр╕лр╕ер╕▓р╕вр╕Др╕Щ р╣Бр╕Хр╣Ир╣Ар╕Вр╕╡р╕вр╕Щр╣Др╕Фр╣Йр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з! ЁЯУЪтЬПя╕П)");
    println!("2. References р╕Хр╣Йр╕нр╕Зр╕бр╕╡р╕нр╕▓р╕вр╕╕р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╣Ар╕кр╕бр╕н (р╣Др╕бр╣Ир╕бр╕╡р╕Бр╕▓р╕гр╕вр╕╖р╕бр╣Бр╕ер╣Йр╕зр╕лр╕▓р╕вр╣Др╕Ы! ЁЯХ░я╕П)");

    let mut s = String::from("hello");

    // р╕лр╕ер╕▓р╕в immutable references - OK (р╕Ыр╕▓р╕гр╣Мр╕Хр╕╡р╣Йр╕нр╣Ир╕▓р╕Щр╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕н! ЁЯУЦЁЯОЙ)
    let r1 = &s;
    let r2 = &s;
    println!("тЬЕ r1: {r1}, r2: {r2} (р╕Чр╕╕р╕Бр╕Др╕Щр╕нр╣Ир╕▓р╕Щр╣Др╕Фр╣Й! ЁЯСе)");
    // r1 р╣Бр╕ер╕░ r2 р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╣Гр╕Кр╣Йр╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Щр╕╡р╣Й (р╕Др╕╖р╕Щр╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕нр╣Бр╕ер╣Йр╕з! ЁЯУЪ)

    // mutable reference - OK (р╣Др╕Фр╣Йр╕кр╕┤р╕Чр╕Шр╕┤р╣Мр╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з! тЬПя╕П)
    let r3 = &mut s;
    println!("тЬЕ r3: {r3} (р╣Ар╕Ыр╣Зр╕Щр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕зр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Др╕Фр╣Й! ЁЯСС)");

    // Reference scope (р╕Вр╕нр╕Ър╣Ар╕Вр╕Хр╕Бр╕▓р╕гр╕вр╕╖р╕б! ЁЯПа)
    println!("\nЁЯФН === Reference Scope: р╕Вр╕нр╕Ър╣Ар╕Вр╕Хр╕Бр╕▓р╕гр╕вр╕╖р╕бр╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ! === ЁЯФН");
    let mut s = String::from("hello");

    {
        let r1 = &s; // OK (р╕вр╕╖р╕бр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕╡р╣Й! ЁЯПа)
        println!("ЁЯУЦ r1: {r1} (р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Гр╕Щр╕лр╣Йр╕нр╕Зр╕Щр╕╡р╣Й! ЁЯЪк)");
    } // r1 р╕нр╕нр╕Бр╕Ир╕▓р╕Б scope (р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕лр╣Йр╕нр╕Зр╣Бр╕ер╣Йр╕з! ЁЯЪ╢тАНтЩВя╕П)

    let r2 = &mut s; // OK - r1 р╣Др╕бр╣Ир╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з (р╕лр╣Йр╕нр╕Зр╕зр╣Ир╕▓р╕Зр╣Бр╕ер╣Йр╕з р╕вр╕╖р╕бр╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Й! ЁЯЖХ)
    println!("тЬПя╕П r2: {r2} (р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╣Гр╕лр╕бр╣Ир╕Вр╕нр╕Зр╕лр╣Йр╕нр╕З! ЁЯФС)");

    // Slice references (р╕Бр╕▓р╕гр╕лр╕▒р╣Ир╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╣Ар╕Кр╕Я! ЁЯФк)
    println!("\nЁЯН░ === Slice References: р╕Бр╕▓р╕гр╕лр╕▒р╣Ир╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕Ър╕Ър╕бр╕╖р╕нр╕нр╕▓р╕Кр╕╡р╕Ю! === ЁЯН░");
    let s = String::from("hello world");
    let hello = &s[0..5]; // р╕лр╕▒р╣Ир╕Щр╕Кр╕┤р╣Йр╕Щр╣Бр╕гр╕Б! ЁЯеЦ
    let world = &s[6..11]; // р╕лр╕▒р╣Ир╕Щр╕Кр╕┤р╣Йр╕Щр╕Чр╕╡р╣Ир╕кр╕нр╕З! ЁЯНЮ
    println!("тЬЕ р╕кр╣Ир╕зр╕Щр╣Бр╕гр╕Б: '{hello}', р╕кр╣Ир╕зр╕Щр╕Чр╕╡р╣Ир╕кр╕нр╕З: '{world}' (р╕лр╕▒р╣Ир╕Щр╣Др╕Фр╣Йр╕кр╕зр╕вр╕Зр╕▓р╕б! ЁЯСитАНЁЯН│)");

    // Array slices (р╕лр╕▒р╣Ир╕Щ array р╣Бр╕Ър╕Ър╣Вр╕Ыр╕г! ЁЯФк)
    let a = [1, 2, 3, 4, 5];
    let slice = &a[1..3]; // р╣Ар╕нр╕▓р╣Бр╕Др╣Ир╕Кр╕┤р╣Йр╕Щр╕Бр╕ер╕▓р╕Зр╣Ж! ЁЯОп
    println!("тЬЕ slice р╕Вр╕нр╕З array: {slice:?} (р╣Ар╕ер╕╖р╕нр╕Бр╣Бр╕Др╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г! ЁЯОк)");
}
